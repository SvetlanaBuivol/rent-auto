{"version":3,"file":"static/js/893.1a386faa.chunk.js","mappings":"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","sources":["components/Selects/Selects.styled.jsx","components/Selects/Selects.jsx","redux/filter/filterSelectors.js","pages/Catalog/Catalog.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const SelectContainer = styled.div`\n  display: flex;\n  gap: 12px;\n  justify-content: center;\n  margin-bottom: 34px;\n  @media screen and (min-width: 768px) {\n    gap: 18px;\n    margin-bottom: 50px;\n  }\n`;\n\nexport const SelectName = styled.p`\n  color: var(--greyText);\n  font-weight: 500;\n  line-height: 18px;\n  margin-bottom: 8px;\n`;\n\nexport const FromToContainer = styled.div`\n  display: flex;\n`;\n\nexport const customSelectFrom = {\n    control: (provided, state) => ({\n        ...provided,\n        borderRadius: '14px',\n        width: '156px',\n        height: '38px',\n        border: 'none',\n        paddingLeft: '8px',\n        backgroundColor: '#F7F7FB',\n        'div div': {\n            fontWeight: '500',\n        fontSize: '18px',\n        },\n        '@media screen and (min-width: 768px)': {\n           width: '224px',\n            height: '48px', \n        paddingLeft: '18px',\n        }\n    }),\n    menu: provided => ({\n        ...provided,\n        borderRadius: '14px',\n    }),\n    option: (provided, state) => ({\n        ...provided,\n        backgroundColor: state.isSelected ? 'var(--inputBg)' : 'transparent',\n        color: 'var(--inputTexst)',\n        fontWeight: '500px',\n        fontSize: '16px',\n        lineHeight: '20px'\n    }),\n    input: provided => ({\n        ...provided,\n        fontWeight: '500',\n        fontSize: '18px',\n        color: 'var(--mainTextCl)',\n    })\n}\n\nexport const customSelectTo = {\n    control: (provided, state) => ({\n        ...provided,\n        borderRadius: '14px',\n        width: '105px',\n        height: '38px',\n        border: 'none',\n        paddingLeft: '8px',\n        backgroundColor: '#F7F7FB',\n        'div div': {\n            fontWeight: '500',\n        fontSize: '18px',\n        },\n        '@media screen and (min-width: 768px)': {\n           width: '125px',\n            height: '48px', \n        paddingLeft: '18px',\n        }\n    }),\n    menu: provided => ({\n        ...provided,\n        borderRadius: '14px',\n    }),\n    option: (provided, state) => ({\n        ...provided,\n        backgroundColor: state.isSelected ? 'var(--inputBg)' : 'transparent',\n        color: 'var(--inputTexst)',\n        fontWeight: '500px',\n        fontSize: '16px',\n        lineHeight: '20px'\n    }),\n    input: provided => ({\n        ...provided,\n        fontWeight: '500',\n        fontSize: '18px',\n        color: 'var(--mainTextCl)',\n    })\n}\n\nexport const ToInput = styled.input`\n  display: block;\n  width: 98px;\n  height: 38px;\n  padding-left: 18px;\n  font-weight: 500;\n  font-size: 18px;\n  border-top-right-radius: 14px;\n  border-bottom-right-radius: 14px;\n  border: none;\n  background-color: var(--inputBg);\n  &:focus-visible {\n    outline: var(--blueCl) solid 1px;\n  }\n  @media screen and (min-width: 768px) {\n    width: 160px;\n  height: 48px;\n  padding-left: 24px;\n  }\n`;\n\nexport const FromInput = styled.input`\n  display: block;\n  width: 98px;\n  height: 38px;\n  padding-left: 18px;\n  font-weight: 500;\n  font-size: 18px;\n  border: none;\n  background-color: var(--inputBg);\n  border-bottom-left-radius: 14px;\n  border-top-left-radius: 14px;\n  border-right: 1px solid var(--inputTexst);\n  &:focus-visible {\n    outline: var(--blueCl) solid 1px;\n  };\n  @media screen and (min-width: 768px) {\n    width: 160px;\n  height: 48px;\n  padding-left: 24px;\n  }\n`;\n\nexport const SearchBtn = styled.button`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: auto;\n    background-color: var(--blueCl);\n    color: var(--whiteCl);\n    border-radius: 12px;\n    line-height: 20px;\n    height: 38px;\n    width: 92px;\n\n    @media screen and (min-width: 768px) {\n        height: 48px;\n    width: 136px;\n    }\n`\n","import React, { useState } from 'react';\nimport Select from 'react-select';\nimport makes from '../../assets/data/makes.json';\nimport prices from '../../assets/data/prices.json';\nimport { useDispatch } from 'react-redux';\nimport {\n  setMake,\n  setMileage,\n  setRentalPrice,\n} from 'redux/filter/filterSlice';\nimport {\n  FromInput,\n  FromToContainer,\n  SearchBtn,\n  SelectContainer,\n  SelectName,\n  ToInput,\n  customSelectFrom,\n  customSelectTo,\n} from './Selects.styled';\n\nconst Selects = () => {\n  const [selectedMake, setSelectedMake] = useState(null);\n  const [selectedPrice, setSelectedPrice] = useState(null);\n  const [mileageRange, setMileageRange] = useState({ from: '', to: '' });\n\n  const dispatch = useDispatch();\n\n  const makesOptions = makes.map(make => ({\n    value: make,\n    label: make,\n  }));\n\n  const priceOptions = prices.map(price => {\n    return {\n      value: price,\n      label: price.toString(),\n    };\n  });\n\n  const handleChangeMake = selectedOption => {\n    setSelectedMake(selectedOption);\n    console.log(\n      `Selected Make: ${selectedOption ? selectedOption.label : 'null'}`\n    );\n  };\n\n  const handleChangePrice = selectedOption => {\n    setSelectedPrice(selectedOption);\n  };\n\n  const handleMileageChange = (field, value) => {\n    console.log(`Changed ${field} to: `, value);\n    setMileageRange(prevState => ({\n      ...prevState,\n      [field]: value,\n    }));\n  };\n\n  const handleSearch = () => {\n    dispatch(setMake(selectedMake));\n    dispatch(setRentalPrice(selectedPrice));\n    dispatch(setMileage(mileageRange));\n  };\n\n  return (\n    <SelectContainer>\n      <div>\n        <SelectName>Car brand</SelectName>\n        <Select\n          styles={customSelectFrom}\n          options={makesOptions}\n          isSearchable\n          placeholder=\"Enter the text\"\n          value={selectedMake}\n          onChange={handleChangeMake}\n        />\n      </div>\n      <div>\n        <SelectName>Price/ 1 hour</SelectName>\n        <Select\n          styles={customSelectTo}\n          options={priceOptions}\n          isSearchable={false}\n          placeholder=\"To $\"\n          value={selectedPrice}\n          onChange={handleChangePrice}\n        />\n      </div>\n      <div>\n        <SelectName>Сar mileage / km</SelectName>\n        <FromToContainer>\n          <FromInput\n            type=\"number\"\n            placeholder=\"From\"\n            value={mileageRange.from}\n            onChange={e => handleMileageChange('from', e.target.value)}\n            min=\"0\"\n            step=\"500\"\n          />\n          <ToInput\n            type=\"number\"\n            placeholder=\"To\"\n            value={mileageRange.to}\n            onChange={e => handleMileageChange('to', e.target.value)}\n            min=\"0\"\n            step=\"500\"\n          />\n        </FromToContainer>\n      </div>\n\n      <SearchBtn onClick={handleSearch}>Search</SearchBtn>\n    </SelectContainer>\n  );\n};\n\nexport default Selects;\n","import { createSelector } from 'reselect';\nimport {\n  selectAllCars,\n  selectAllAdverts,\n} from 'redux/adverts/advertsSelectors';\n\nconst selectFilter = state => state.filter;\n\nexport const selectFilteredAdverts = createSelector(\n  [selectAllAdverts, selectAllCars, selectFilter],\n  (adverts, allAdverts, filter) => {\n    const { make, rentalPrice, mileage } = filter;\n\n    if (!make && !rentalPrice && (!mileage.from || !mileage.to)) {\n      return adverts;\n    }\n\n    return allAdverts.filter(car => {\n      const numCarPrice = parseInt(car.rentalPrice.slice(1), 10);\n      const numFilterPrice = rentalPrice\n        ? parseInt(rentalPrice.value, 10)\n        : null;\n\n      const isMakeValid = make ? car.make === make.value : true;\n      const isRentalPriceValid = rentalPrice\n        ? numCarPrice <= numFilterPrice\n        : true;\n      const isMileageFromValid =\n        mileage.from !== undefined ? car.mileage >= parseInt(mileage.from, 10) : true;\n      const isMileageToValid =\n            mileage.to !== undefined ? car.mileage <= parseInt(mileage.to, 10) : true;\n    \n        return (\n           (make && rentalPrice && mileage.from && mileage.to) ? \n          (isMakeValid && isRentalPriceValid && isMileageFromValid && isMileageToValid) :\n        (make && rentalPrice) ? \n          (isMakeValid && isRentalPriceValid) :\n        (make && mileage.from && mileage.to) ?\n          (isMakeValid && isMileageFromValid && isMileageToValid) :\n        (rentalPrice && mileage.from && mileage.to) ?\n          (isRentalPriceValid && isMileageFromValid && isMileageToValid) :\n        (make) ? \n          (isMakeValid) :\n        (rentalPrice) ?\n          (isRentalPriceValid) :\n        (mileage.from && mileage.to) ?\n          (isMileageFromValid && isMileageToValid) :\n        adverts\n      );\n    });\n  }\n);\n","import CarsList from 'components/CarsList/CarsList';\nimport Selects from 'components/Selects/Selects';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchAllAdvertssAsync,\n  fetchCarsAsync,\n} from 'redux/adverts/advertsOperations';\nimport { incrementPage } from 'redux/adverts/advertsSlice';\nimport { selectFilteredAdverts } from 'redux/filter/filterSelectors';\n\nconst Catalog = () => {\n  const currentPage = useSelector(state => state.adverts.currentPage);\n  const filteredAdverts = useSelector(selectFilteredAdverts);\n    const dispatch = useDispatch();\n\n  const handleLoadMore = () => {\n    dispatch(incrementPage());\n    dispatch(fetchAllAdvertssAsync(currentPage + 1));\n  };\n\n  useEffect(() => {\n    dispatch(fetchAllAdvertssAsync(currentPage));\n    dispatch(fetchCarsAsync());\n     // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, currentPage, JSON.stringify(filteredAdverts)]);\n\n  const totalAds = filteredAdverts.length;\n  const isLastPage = totalAds % 12 === 0 && totalAds > 0;\n\n  return (\n    <div>\n      <Selects />\n      <CarsList\n        filteredAdverts={filteredAdverts}\n        isLastPage={isLastPage}\n        handleLoadMore={handleLoadMore}\n      />\n    </div>\n  );\n};\n\nexport default Catalog;\n"],"names":["SelectContainer","styled","_templateObject","_taggedTemplateLiteral","SelectName","_templateObject2","FromToContainer","_templateObject3","customSelectFrom","control","provided","state","_objectSpread","borderRadius","width","height","border","paddingLeft","backgroundColor","fontWeight","fontSize","menu","option","isSelected","color","lineHeight","input","customSelectTo","ToInput","_templateObject4","FromInput","_templateObject5","SearchBtn","_templateObject6","_useState","useState","_useState2","_slicedToArray","selectedMake","setSelectedMake","_useState3","_useState4","selectedPrice","setSelectedPrice","_useState5","from","to","_useState6","mileageRange","setMileageRange","dispatch","useDispatch","makesOptions","makes","make","value","label","priceOptions","prices","price","toString","handleMileageChange","field","console","log","concat","prevState","_defineProperty","_jsxs","children","_jsx","Select","styles","options","isSearchable","placeholder","onChange","selectedOption","type","e","target","min","step","onClick","setMake","setRentalPrice","setMileage","selectFilteredAdverts","createSelector","selectAllAdverts","selectAllCars","filter","adverts","allAdverts","rentalPrice","mileage","car","numCarPrice","parseInt","slice","numFilterPrice","isMakeValid","isRentalPriceValid","isMileageFromValid","undefined","isMileageToValid","currentPage","useSelector","filteredAdverts","useEffect","fetchAllAdvertssAsync","fetchCarsAsync","JSON","stringify","totalAds","length","isLastPage","Selects","CarsList","handleLoadMore","incrementPage"],"sourceRoot":""}